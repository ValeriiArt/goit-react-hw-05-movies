{"version":3,"file":"static/js/317.aa48c17d.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","pages/Movies/Movies.module.css","pages/Movies/Movies.jsx","service/fetchAPI.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"SearchForm_searchbar__ufFAl\",\"searchForm\":\"SearchForm_searchForm__NsJpF\",\"button\":\"SearchForm_button__UXY06\",\"buttonLabel\":\"SearchForm_buttonLabel__Pnm-I\",\"input\":\"SearchForm_input__HOxJo\"};","import { useState } from \"react\";\nimport s from './SearchForm.module.css'\n\nexport default function SearchForm({onSubmit}){\n    const [query, setQuery] = useState('');\n\n    const handelSearchChange = e => {\n        setQuery(e.currentTarget.value.toLowerCase());\n    };\n\n    const handelSubmit = e => {\n        e.preventDefault();\n        if (query.trim() === '') {\n            alert('ðŸ¦„ Boolshit!');\n            return;\n        }\n        onSubmit(query);\n        setQuery('');\n    };\n\n    return (\n        <div className={s.searchbar}>\n            <form\n                className={s.searchForm}\n                onSubmit={handelSubmit} >\n                    <button type=\"submit\" className={s.button}>\n                        <span className={s.buttonLabel}>Search</span>\n                    </button>\n                <input\n                    className={s.input}\n                    type=\"text\"\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search...\"\n                    name=\"search\"\n                    value={query}\n                    onChange={handelSearchChange}\n                />\n            </form>\n        </div>\n    ); \n};\n\n","// extracted by mini-css-extract-plugin\nexport default {};","import { useState, useEffect } from \"react\";\nimport SearchForm from \"components/SearchForm\";\nimport  {fetchMovieSearch}  from \"service/fetchAPI\";\nimport { Link, useSearchParams } from \"react-router-dom\";\nimport { MutatingDots } from 'react-loader-spinner';\nimport s from './Movies.module.css'\n\nconst Movies = () => {\n  const [queryMovie, setQueryMovie] = useState('');\n  const [resultQuery, setResultQuery] = useState([])\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  console.log(queryMovie);\n\n  useEffect(() => {\n    const movieName = searchParams.get('formInput');\n    if (!movieName) {\n      return;\n    }\n    setIsLoading(true);\n    const getData = async () => {\n      try {\n        const data = await fetchMovieSearch(movieName);\n        setResultQuery(data);\n      }\n      catch (error) {\n        setError(error.message);\n        console.error(error.message);\n        setSearchParams();\n      } finally {\n        setIsLoading(false)\n      }\n    };\n    getData();\n  }, [ searchParams, setSearchParams, setResultQuery]);\n\n  const handleSubmit = formInput => {\n    setQueryMovie(searchParams.get('formInput'));\n    setSearchParams({formInput: formInput})\n  }\n\n  console.log(resultQuery)\n    return (\n      <>\n        <SearchForm onSubmit={handleSubmit}/>\n        {isLoading && <MutatingDots />}  \n        {error && <div>{error}</div>} \n       <ul>\n            {resultQuery.length !== 0 && resultQuery.map(({id, title, poster_path}) => (\n                <li key={id}>\n                <Link to={`${id}`}>\n                  {title}\n                  <img\n                      src={`https://image.tmdb.org/t/p/w300${poster_path}`}\n                      alt={title}\n                      className={s.moviÐµItemImg}\n                  />\n                </Link>\n                </li>\n            ))}\n          </ul>\n      </>\n\n  );\n};\n\nexport default Movies;","import axios from \"axios\";\n\nconst API_KEY = '9247604179ba4f8029cfb34035e24946';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\n// https://api.themoviedb.org/3/movie/725201/reviews?api_key=9247604179ba4f8029cfb34035e24946\n\nexport async function getTrendingDayMovie() {\n    \n    const {data} = await axios.get(`trending/movie/day?api_key=${API_KEY}`);\n    const { results } = data;\n    return results;\n};\n\nexport async function fetchMovie(id) { \n    const {data} = await axios.get(`movie/${id}?api_key=${API_KEY}`);\n    // console.log(data)\n    return data;\n};\n\nexport async function fetchMovieCast(id) {   \n    const {data} = await axios.get(`movie/${id}/credits?api_key=${API_KEY}`);\n    const { cast } = data;\n    return cast;\n};\n\nexport async function fetchMovieReviews(id) {\n    const {data} = await axios.get(`movie/${id}/reviews?api_key=${API_KEY}`);\n    const { results } = data;\n    // console.log(results)\n    return results;\n};\n\nexport async function fetchMovieSearch(query) {\n    console.log(query);\n    const {data} = await axios.get(`/search/movie?api_key=${API_KEY}&query=${query}`);\n    const { results } = data;\n    console.log(results)\n    return results;\n};"],"names":["SearchForm","onSubmit","useState","query","setQuery","className","s","e","preventDefault","trim","alert","type","autoComplete","autoFocus","placeholder","name","value","onChange","currentTarget","toLowerCase","queryMovie","setQueryMovie","resultQuery","setResultQuery","useSearchParams","searchParams","setSearchParams","error","setError","isLoading","setIsLoading","console","log","useEffect","movieName","get","getData","fetchMovieSearch","data","message","formInput","length","map","id","title","poster_path","to","src","alt","API_KEY","getTrendingDayMovie","axios","results","fetchMovie","fetchMovieCast","cast","fetchMovieReviews"],"sourceRoot":""}